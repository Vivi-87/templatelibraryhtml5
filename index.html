<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canva Display Ad - 300x250</title>
    <style>
        /* Canva font definitions */
        @font-face {
            font-family: 'CanvaSansDisplay-Regular';
            src: url('Font/CanvaSansDisplay-Regular.woff') format('woff');
            font-weight: normal;
            font-display: swap;
        }

        @font-face {
            font-family: 'CanvaSans-Medium';
            src: url('Font/CanvaSans-Medium.woff') format('woff');
            font-weight: 500;
            font-display: swap;
        }
        
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        /* Image holder styles for smooth interactions */
        .image-holder {
            transition: transform 0.2s ease-out;
            cursor: pointer;
            transform-origin: center center;
        }
        
        .image-holder img {
            transition: transform 0.15s ease-out;
            transform-origin: center center;
        }
        
        .image-holder:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            transition: transform 0.15s ease-out, box-shadow 0.2s ease-out;
        }
        
        .image-holder.scrolling {
            transition: none;
        }

        /* Animation keyframes */
        @keyframes svgSwipeAcross {
            0% {
                transform: translateX(-100%);
                opacity: 1;
            }
            100% {
                transform: translateX(100%);
                opacity: 1;
            }
        }
        
        @keyframes imageSwap {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* 4-pointed star shape - completely invisible by default */
        .sparkle {
            position: absolute;
            width: 20px;
            height: 20px;
            opacity: 0;
            visibility: hidden;
            transform: translate(-50%, -50%) scale(0);
            pointer-events: none;
        }
        
        @keyframes scaleTransition {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        /* Headline styles */
        .ad-headline {
            font-family: 'CanvaSansDisplay-Regular', Arial, sans-serif;
            font-size: 24px;
            font-weight: normal;
            margin: 0 20px;
            line-height: 1.1;
            letter-spacing: -0.03em;
            position: absolute;
            left: 0;
            right: 0;
            text-align: center;
            color: white;
            z-index: 2;
            white-space: normal;
            max-width: 260px;
            transform: translateY(-50%);
        }
        
        @keyframes headlineExitUp {
            0% {
                transform: translateY(-50%) translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateY(-50%) translateY(-10px);
                opacity: 0;
            }
        }
        
        @keyframes headlineEnterUp {
            0% {
                transform: translateY(-50%) translateY(10px);
                opacity: 0;
            }
            100% {
                transform: translateY(-50%) translateY(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <!-- Main Ad Container -->
    <div class="ad-container" id="ad-container" style="
        width: 300px;
        height: 250px;
        position: relative;
        overflow: hidden;
        cursor: pointer;
        border: 1px solid #ddd;
        background: linear-gradient(135deg, #13A3B5 0%, #992BFF 100%);
        transition: transform 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    ">
        <!-- Logo - Top Left -->
        <div style="
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 3;
            width: 80px;
            height: auto;
            animation: logoFloat 4s ease-in-out infinite;
        ">
            <svg style="
                width: 100%;
                height: auto;
            " viewBox="0 0 238 77" fill="none" xmlns="http://www.w3.org/2000/svg">
               <path d="M235.966 52.0858C235.562 52.0858 235.194 52.3472 235.004 52.8937C232.568 59.844 229.277 63.9786 226.569 63.9786C225.012 63.9786 224.382 62.244 224.382 59.5233C224.382 52.7155 228.458 38.2802 230.513 31.6982C230.751 30.9022 230.905 30.1893 230.905 29.5834C230.905 27.6706 229.86 26.732 227.27 26.732C224.478 26.732 221.472 27.825 218.549 32.9457C217.539 28.431 214.486 26.4587 210.22 26.4587C205.29 26.4587 200.526 29.6309 196.605 34.7754C192.684 39.9198 188.074 41.6069 184.605 40.7752C187.1 34.6684 188.027 30.1062 188.027 26.7201C188.027 21.4094 185.401 18.2015 181.16 18.2015C174.708 18.2015 170.99 24.3558 170.99 30.8309C170.99 35.8328 173.259 40.9772 178.249 43.4722C174.067 52.9294 167.96 61.4836 165.643 61.4836C162.649 61.4836 161.77 46.8345 161.937 36.3555C162.043 30.3438 162.542 30.0349 162.542 28.2171C162.542 27.1716 161.865 26.4587 159.145 26.4587C152.8 26.4587 150.84 31.8289 150.543 37.9951C150.448 40.3356 150.079 42.6643 149.45 44.9216C146.8 54.3788 141.335 61.5549 137.771 61.5549C136.119 61.5549 135.668 59.9034 135.668 57.7411C135.668 50.9334 139.482 42.4267 139.482 35.1674C139.482 29.8329 137.141 26.4587 132.733 26.4587C127.541 26.4587 120.674 32.6368 114.175 44.2088C116.314 35.3456 117.193 26.7676 110.861 26.7676C109.482 26.7914 108.14 27.1359 106.928 27.7894C106.096 28.1815 105.585 29.0369 105.645 29.9517C106.251 39.3851 98.0411 63.5509 90.2591 63.5509C88.8453 63.5509 88.1562 62.0182 88.1562 59.547C88.1562 52.7274 92.2195 38.3277 94.263 31.7339C94.5244 30.8784 94.6669 30.1418 94.6669 29.5002C94.6669 27.6943 93.5501 26.7676 91.0195 26.7676C88.2393 26.7676 85.2216 27.825 82.3108 32.9457C81.289 28.431 78.2356 26.4587 73.9704 26.4587C66.9726 26.4587 59.1549 33.8605 55.7214 43.5078C51.1235 56.3867 41.8564 68.826 29.3814 68.826C18.059 68.826 12.0829 59.4044 12.0829 44.5177C12.0829 23.0252 27.8607 5.46521 39.5634 5.46521C45.1593 5.46521 47.8325 9.02948 47.8325 14.4947C47.8325 21.1123 44.1375 24.1895 44.1375 26.7082C44.1375 27.4805 44.7791 28.2409 46.0503 28.2409C51.1353 28.2409 57.1233 22.2648 57.1233 14.1145C57.1233 5.96421 50.5057 0 38.803 0C19.4609 0 0 19.4609 0 44.3989C0 64.24 9.78985 76.204 26.7201 76.204C38.2683 76.204 48.3552 67.2221 53.7967 56.7431C54.4145 65.4281 58.3589 69.9666 64.3707 69.9666C69.717 69.9666 74.0417 66.7825 77.3446 61.1866C78.6158 67.0438 81.99 69.9072 86.3741 69.9072C91.3997 69.9072 95.6055 66.7231 99.6094 60.8064C99.55 65.4518 100.607 69.824 104.635 69.824C106.536 69.824 108.805 69.3844 109.209 67.7211C113.451 50.1849 123.93 35.8684 127.137 35.8684C128.088 35.8684 128.349 36.7832 128.349 37.8644C128.349 42.6286 124.987 52.3947 124.987 58.6322C124.987 65.3686 127.85 69.824 133.767 69.824C140.325 69.824 146.90 61.7925 151.434 50.0542C152.824 61.0202 155.83 69.8715 160.535 69.8715C166.309 69.8715 176.562 57.7174 182.776 44.8504C185.211 45.1593 188.87 45.0761 192.387 42.593C190.89 46.383 190.011 50.5294 190.011 54.6758C190.011 66.6161 195.714 69.9666 200.621 69.9666C205.955 69.9666 210.28 66.7825 213.595 61.1866C214.688 66.236 217.48 69.8953 222.612 69.8953C230.644 69.8953 237.618 61.6856 237.618 54.9491C237.618 53.167 236.857 52.0858 235.966 52.0858ZM69.2656 63.3489C66.0221 63.3489 64.7508 60.0816 64.7508 55.2105C64.7508 46.7513 70.5368 32.6249 76.6555 32.6249C79.3287 32.6249 80.3386 35.7734 80.3386 39.6228C80.3386 48.2126 74.8377 63.3489 69.2656 63.3489ZM180.364 38.102C178.427 35.7971 177.726 32.6606 177.726 29.8686C177.726 26.4231 178.986 23.5123 180.494 23.5123C182.003 23.5123 182.467 24.9974 182.467 27.0647C182.467 30.522 181.231 35.5714 180.364 38.102ZM205.516 63.3489C202.272 63.3489 201.001 59.5945 201.001 55.2105C201.001 47.0483 206.787 32.6249 212.953 32.6249C215.626 32.6249 216.577 35.7496 216.577 39.6228C216.577 48.2126 211.171 63.3489 205.516 63.3489Z" fill="white"/>
           </svg>
        </div>
        
        <!-- CTA Button - Top Right -->
        <div style="
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 3;
            background: white;
            color: #4A53FA;
            padding: 5px 7px;
            border-radius: 6px;
            font-family: 'CanvaSans-Medium', Arial, sans-serif;
            font-weight: 500;
            font-size: 10px;
            letter-spacing: -0.03em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 3px;
            animation: ctaButtonPulse 3s ease-in-out infinite;
        " onmouseover="this.style.transform='scale(1.07)'; this.style.background='#f8f8f8'; this.style.animation='none'"
           onmouseout="this.style.transform='scale(1)'; this.style.background='white'; this.style.animation='ctaButtonPulse 3s ease-in-out infinite'"
           onclick="window.open('https://www.canva.com/features/background-remover/', '_blank')" style="cursor: pointer;"">
            <svg style="width: 10px; height: 10px; flex-shrink: 0;" viewBox="0 0 29 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M17.1789 3.36364C17.1789 4.47778 16.5957 5.44332 15.7441 5.9167C17.0403 9.46606 18.395 11.2121 19.5874 11.3497C20.9381 11.5055 22.1731 10.8643 23.3824 9.28436C23.4145 9.24244 23.4479 9.20347 23.4823 9.16735C23.2192 8.72117 23.0666 8.19011 23.0666 7.62017C23.0666 6.03863 24.2419 4.75653 25.6916 4.75653C27.1414 4.75653 28.3166 6.03863 28.3166 7.62017C28.3166 9.20171 27.1414 10.4838 25.6916 10.4838C25.6275 10.4838 25.5639 10.4813 25.5009 10.4764L23.5434 18.6068C23.1355 20.3007 21.6697 21.489 19.9881 21.489H9.14445C7.46285 21.489 5.99704 20.3007 5.58919 18.6068L3.64031 10.5124C3.56638 10.5192 3.49157 10.5227 3.41602 10.5227C1.96627 10.5227 0.791016 9.24063 0.791016 7.65908C0.791016 6.07754 1.96627 4.79545 3.41602 4.79545C4.86576 4.79545 6.04102 6.07754 6.04102 7.65908C6.04102 8.21172 5.89752 8.7278 5.64895 9.16538C5.68963 9.20805 5.72874 9.25472 5.76597 9.30553C6.91709 10.8765 8.14066 11.5117 9.54514 11.3497C10.7935 11.2057 12.1409 9.46938 13.3855 5.92865C12.5221 5.45969 11.9289 4.48723 11.9289 3.36364C11.9289 1.78209 13.1042 0.5 14.5539 0.5C16.0037 0.5 17.1789 1.78209 17.1789 3.36364ZM7.07737 24.5136H22.0305C22.7424 24.5136 23.3196 25.1849 23.3196 26.0129C23.3196 26.841 22.7424 27.5123 22.0305 27.5123H7.07737C6.36544 27.5123 5.78831 26.841 5.78831 26.0129C5.78831 25.1849 6.36544 24.5136 7.07737 24.5136Z" fill="#FDBD68"/>
            </svg>
            <span style="line-height: 1;">Try for free</span>
        </div>
        

       
        <!-- Headline - positioned dynamically -->
        <h2 class="ad-headline">Create standout content faster</h2>
        
        <!-- Animated Cursor (Blue) -->
        <div id="animated-cursor" style="
            position: absolute;
            width: 72px;
            height: 72px;
            pointer-events: none;
            z-index: 10;
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.8);
            transition: all 0.3s cubic-bezier(0.43, 0, 0.17, 1);
        ">
            <img src="Asset/Cursor.svg" alt="Blue Cursor" style="width: 100%; height: 100%;">
        </div>

        <!-- Tracking Cursor (Pink) -->
        <div id="tracking-cursor" style="
            position: absolute;
            width: 72px;
            height: 72px;
            pointer-events: none;
            z-index: 9;
            opacity: 0;
            transform: translate(0, 0) scale(1);
            transition: opacity 0.2s ease;
        ">
            <img src="Asset/Collab Cursor.svg" alt="Pink Cursor" style="width: 100%; height: 100%;">
        </div>

        <!-- Image Gallery Container -->
        <div id="image-gallery-container" style="
            position: absolute;
            top: 115px;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            height: 160px;
            z-index: 2;
            overflow: visible;
        ">
            <!-- Image Holder 1 (Far left - for drag scrolling) -->
            <div id="image-holder-1" class="image-holder" style="
                position: absolute;
                left: 0;
                top: 0;
                width: 160px;
                height: 160px;
                background: white;
                border-radius: 8px;
                overflow: hidden;
                opacity: 1;
                transform: translateX(800px);
                transition: all 1000ms cubic-bezier(.07, .88, .58, 1);
                transition-delay: 0ms;
                z-index: 1;
            ">
                <img src="Asset/1.png" style="width: 100%; height: 100%; object-fit: cover;">
            </div>

            <!-- Image Holder 2 (Left - mostly off-screen after animation) -->
            <div id="image-holder-2" class="image-holder" style="
                position: absolute;
                left: 0;
                top: 0;
                width: 160px;
                height: 160px;
                background: white;
                border-radius: 8px;
                overflow: hidden;
                opacity: 1;
                transform: translateX(800px);
                transition: all 1000ms cubic-bezier(.07, .88, .58, 1);
                transition-delay: 0ms;
                z-index: 1;
            ">
                <img src="Asset/2.png" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            
            <!-- Image Holder 3 (Left edge bleed) -->
            <div id="image-holder-3" class="image-holder" style="
                position: absolute;
                left: 0;
                top: 0;
                transform: translateX(800px);
                width: 160px;
                height: 160px;
                background: white;
                border-radius: 8px;
                overflow: hidden;
                opacity: 1;
                transition: all 1000ms cubic-bezier(.07, .88, .58, 1);
                transition-delay: 50ms;
                z-index: 2;
            ">
                <img src="Asset/3.png" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            
            <!-- Image Holder 4 (Center - main target) -->
            <div id="image-holder-4" class="image-holder center-image" style="
                position: absolute;
                left: 0;
                top: 0;
                width: 160px;
                height: 160px;
                background: white;
                border-radius: 8px;
                overflow: hidden;
                opacity: 1;
                transform: translateX(800px);
                transition: all 1000ms cubic-bezier(.07, .88, .58, 1);
                transition-delay: 100ms;
                z-index: 5;
                cursor: pointer;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            ">
                <img id="center-hosted-image" src="Asset/4A.png" style="width: 100%; height: 100%; object-fit: cover;">
                
                <!-- SVG Gradient Swipe Overlay removed -->
            </div>
            
            <!-- Image Holder 5 (Right edge bleed) -->
            <div id="image-holder-5" class="image-holder" style="
                position: absolute;
                left: 0;
                top: 0;
                width: 160px;
                height: 160px;
                background: white;
                border-radius: 8px;
                overflow: hidden;
                opacity: 1;
                transform: translateX(800px);
                transition: all 1000ms cubic-bezier(.07, .88, .58, 1);
                transition-delay: 150ms;
                z-index: 2;
            ">
                <img src="Asset/5.png" style="width: 100%; height: 100%; object-fit: cover;">
            </div>

            <!-- Image Holder 6 (Far right - for drag scrolling) -->
            <div id="image-holder-6" class="image-holder" style="
                position: absolute;
                left: 0;
                top: 0;
                width: 160px;
                height: 160px;
                background: white;
                border-radius: 8px;
                overflow: hidden;
                opacity: 1;
                transform: translateX(800px);
                transition: all 1000ms cubic-bezier(.07, .88, .58, 1);
                transition-delay: 200ms;
                z-index: 1;
            ">
                <img src="Asset/3.png" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
        </div>
    </div>
    
    <script>
        // All the JavaScript from preview.html goes here...
        // Function to adjust headline size and position based on text length
        function adjustHeadlineLayout() {
            const headline = document.querySelector('.ad-container h2');
            if (!headline) return;
            
            const text = headline.textContent;
            const textLength = text.length;
            
            // Calculate available space - reduced gaps by 10px each
            const logoHeight = 25;
            const ctaHeight = 25;
            const topElementsBottom = 10 + Math.max(logoHeight, ctaHeight); // ~35px
            
            // Image hosting box now starts at 115px (moved up 10px to reduce gap)
            const imageBoxTop = 115;
            
            // Calculate headline space (90px available, but positioned closer to elements)
            const headlineSpaceStart = topElementsBottom - 10; // 25px
            const headlineSpaceEnd = imageBoxTop; // 115px
            const availableHeadlineSpace = headlineSpaceEnd - headlineSpaceStart; // 90px
            
            // Adjust font size based on text length (larger sizes for two-line layout)
            let fontSize;
            if (textLength <= 15) {
                fontSize = 32;
            } else if (textLength <= 25) {
                fontSize = 28;
            } else if (textLength <= 35) {
                fontSize = 24;
            } else {
                fontSize = 20;
            }
            
            // Position headline in center of available space + 5px for optical balance
            const headlineCenter = headlineSpaceStart + (availableHeadlineSpace / 2) + 5;
            
            // Apply styles for two-line layout
            headline.style.fontSize = fontSize + 'px';
            headline.style.top = headlineCenter + 'px';
            headline.style.transform = 'translateY(-50%)';
            headline.style.whiteSpace = 'normal';
            headline.style.lineHeight = '1.1';
            headline.style.maxWidth = '260px';
        }
        
        // Function to create starburst sparkles on center image
        function createSparklesOnCenter() {
            const centerImageHolder = document.getElementById('image-holder-4');
            const sparkleContainer = document.createElement('div');
            sparkleContainer.id = 'sparkle-container';
            sparkleContainer.style.cssText = `
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 5;
            `;
            
            // Create exactly 6 sparkles for starburst
            const sparkleCount = 6; // Fixed 6 sparkles
            const centerX = 50; // Center percentage
            const centerY = 50; // Center percentage
            
            for (let i = 0; i < sparkleCount; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                
                // Calculate angle for this sparkle (evenly distributed around circle)
                const angle = (i / sparkleCount) * 360 + Math.random() * 30 - 15; // Add some randomness
                
                // Vary star size (40% to 160% of base size - wider range for more variety)
                const sizeVariation = 0.4 + Math.random() * 1.2;
                const starSize = 20 * sizeVariation;
                
                // Start from center point (all stars start at exact center)
                const startX = centerX; // All stars start at exact center
                const startY = centerY; // All stars start at exact center
                
                // Calculate end position (travel to edge of image hosting box)
                const directionX = Math.cos(angle * Math.PI / 180);
                const directionY = Math.sin(angle * Math.PI / 180);
                
                // Calculate intersection with center image edges (160px width, 160px height)
                let endX, endY;
                
                // Determine which edge the star will hit based on direction
                const directionLength = Math.sqrt(directionX * directionX + directionY * directionY);
                
                // Scale directions for center image container (160x160)
                const travelDistance = 40 + Math.random() * 20; // Adjusted for 160px square
                endX = centerX + (directionX / directionLength) * travelDistance;
                endY = centerY + (directionY / directionLength) * travelDistance;
                
                // Ensure positions stay within bounds
                endX = Math.max(5, Math.min(95, endX));
                endY = Math.max(10, Math.min(90, endY));
                
                // Start at center point, completely invisible
                const animationDuration = 1.4 + Math.random() * 0.4;
                const animationDelay = 0.1 + Math.random() * 0.2; // Faster delays for quicker appearance
                
                sparkle.style.cssText = `
                    left: ${startX}%;
                    top: ${startY}%;
                    width: 20px;
                    height: 20px;
                    opacity: 0;
                    transform: translate(-50%, -50%) scale(0);
                    visibility: hidden;
                    pointer-events: none;
                `;
                
                // Add custom animation using CSS custom properties
                const rotationAngle = Math.random() * 360; // Random rotation amount
                const keyframes = `
                    @keyframes starBurst${i} {
                        0% {
                            opacity: 0;
                            visibility: hidden;
                            background: transparent;
                            clip-path: none;
                            filter: none;
                            border-radius: 0;
                            left: ${startX}%;
                            top: ${startY}%;
                            transform: translate(-50%, -50%) scale(0) rotate(0deg);
                        }
                        5% {
                            opacity: 0;
                            visibility: visible;
                            background: #FFD700;
                            clip-path: polygon(50% 0%, 62% 38%, 100% 50%, 62% 62%, 50% 100%, 38% 62%, 0% 50%, 38% 38%);
                            filter: drop-shadow(0 0 6px #FFD700) drop-shadow(0 0 12px rgba(255, 215, 0, 0.6));
                            border-radius: 4px;
                            left: ${startX}%;
                            top: ${startY}%;
                            transform: translate(-50%, -50%) scale(0) rotate(0deg);
                        }
                        10% {
                            opacity: 1;
                            visibility: visible;
                            background: #FFD700;
                            clip-path: polygon(50% 0%, 62% 38%, 100% 50%, 62% 62%, 50% 100%, 38% 62%, 0% 50%, 38% 38%);
                            filter: drop-shadow(0 0 6px #FFD700) drop-shadow(0 0 12px rgba(255, 215, 0, 0.6));
                            border-radius: 4px;
                        }
                        80% {
                            opacity: 1;
                            visibility: visible;
                            background: #FFD700;
                            clip-path: polygon(50% 0%, 62% 38%, 100% 50%, 62% 62%, 50% 100%, 38% 62%, 0% 50%, 38% 38%);
                            filter: drop-shadow(0 0 6px #FFD700) drop-shadow(0 0 12px rgba(255, 215, 0, 0.6));
                            border-radius: 4px;
                            left: ${endX}%;
                            top: ${endY}%;
                            transform: translate(-50%, -50%) scale(${sizeVariation}) rotate(${rotationAngle}deg);
                        }
                        100% {
                            opacity: 0;
                            visibility: hidden;
                            background: #FFD700;
                            clip-path: polygon(50% 0%, 62% 38%, 100% 50%, 62% 62%, 50% 100%, 38% 62%, 0% 50%, 38% 38%);
                            filter: drop-shadow(0 0 6px #FFD700) drop-shadow(0 0 12px rgba(255, 215, 0, 0.6));
                            border-radius: 4px;
                            left: ${endX}%;
                            top: ${endY}%;
                            transform: translate(-50%, -50%) scale(${sizeVariation}) rotate(${rotationAngle}deg);
                        }
                    }
                `;
                
                // Add unique animation to head
                const styleSheet = document.createElement('style');
                styleSheet.textContent = keyframes;
                document.head.appendChild(styleSheet);
                
                sparkleContainer.appendChild(sparkle);
                
                // Apply animation with delay
                sparkle.style.animation = `starBurst${i} ${animationDuration}s cubic-bezier(.07, .34, .32, .92) forwards`;
                sparkle.style.animationDelay = `${animationDelay}s`;
                sparkle.style.animationFillMode = 'both';
            }
            
            centerImageHolder.appendChild(sparkleContainer);
            
            // Remove sparkles after animation completes (max delay 0.3s + max duration 1.8s = 2.1s + buffer)
            setTimeout(() => {
                if (sparkleContainer.parentNode) {
                    sparkleContainer.parentNode.removeChild(sparkleContainer);
                }
            }, 2700);
        }
        
        // Cursor animation system
        let cursorAnimationInProgress = false;
        let buttonClickAnimationDone = false;
        
        function animateImagesIn() {
            console.log('Starting image animation - 6 images sliding in');
            
            // Final positions relative to gallery container (300px wide, centered)
            // All images start at left: 0, so transforms are relative to that
            const finalPositions = {
                'image-holder-1': -455, // Far far left (off-screen)
                'image-holder-2': -280, // Far left (off-screen) 
                'image-holder-3': -105, // Left edge bleed
                'image-holder-4': 70,   // Center (150px container center - 80px image center)
                'image-holder-5': 245,  // Right edge bleed
                'image-holder-6': 420   // Far right (off-screen)
            };
            
            // Animate 6 image holders from right to left with staggered timing (50ms delays)
            const imageHolders = ['image-holder-1', 'image-holder-2', 'image-holder-3', 'image-holder-4', 'image-holder-5', 'image-holder-6'];
            imageHolders.forEach((holderId, index) => {
                const holder = document.getElementById(holderId);
                if (holder) {
                    setTimeout(() => {
                        console.log(`Animating ${holderId} to position ${finalPositions[holderId]}px`);
                        // Slide in from right to final position
                        holder.style.transform = `translateX(${finalPositions[holderId]}px)`;
                    }, index * 50); // Staggered 50ms delays
                }
            });
        }
        
        function startCursorAnimation() {
            if (cursorAnimationInProgress) return;
            cursorAnimationInProgress = true;
            
            const animatedCursor = document.getElementById('animated-cursor');
            const trackingCursor = document.getElementById('tracking-cursor');
            
            // Hide pink tracking cursor during animation
            trackingCursor.style.opacity = '0';
            
            // Phase 1: Cursor flies in from right side  
            const containerRect = document.getElementById('ad-container').getBoundingClientRect();
            animatedCursor.style.left = '360px'; // Start from right outside the container
            animatedCursor.style.top = '195px'; // Middle height of the image area
            animatedCursor.style.opacity = '1';
            animatedCursor.style.transform = 'translate(-50%, -50%) scale(0.8)';
            
            // Fly to center image position (with offset for click position)
            const centerImage = document.getElementById('image-holder-4');
            const imageRect = centerImage.getBoundingClientRect();
            const imageCenterX = imageRect.left - containerRect.left + imageRect.width / 2;
            const imageCenterY = imageRect.top - containerRect.top + imageRect.height / 2;
            
            // Adjust click position: 30px right, 10px down from center
            const clickPositionX = imageCenterX + 30;
            const clickPositionY = imageCenterY + 10;
            
            setTimeout(() => {
                animatedCursor.style.transition = 'all 1.2s cubic-bezier(0.43, 0, 0.17, 1)';
                animatedCursor.style.left = clickPositionX + 'px';
                animatedCursor.style.top = clickPositionY + 'px';
                animatedCursor.style.transform = 'translate(-50%, -50%) scale(1)';
            }, 100);
            
            // Phase 2: Click the center image (200ms faster)
            setTimeout(() => {
                // Start image transformation and headline change (remove duplicate click animation)
                startImageTransformation();
            }, 1200);
        }
        
        function startImageTransformation() {
            if (buttonClickAnimationDone) return;
            buttonClickAnimationDone = true;
            
            // Change headline with clean animation
            const headline = document.querySelector('.ad-container h2');
            if (headline) {
                headline.style.animation = 'headlineExitUp 0.5s cubic-bezier(.74, 0, .89, .11) forwards';
                
                setTimeout(() => {
                    headline.textContent = 'with 100M+ premium templates';
                    adjustHeadlineLayout();
                    headline.style.animation = 'headlineEnterUp 0.6s cubic-bezier(.14, .96, .34, 1) forwards';
                }, 500);
            }
            
            // Direct to final click animation (no intermediate image change)
            setTimeout(() => {
                startFinalImageAnimation();
            }, 600);
        }
        
        function startFinalImageAnimation() {
            const animatedCursor = document.getElementById('animated-cursor');
            const centerImage = document.getElementById('center-hosted-image');
            const centerImageHolder = document.getElementById('image-holder-4');
            
            // Scale entire container for click effect (100% → 90% → 100%)
            centerImageHolder.style.transition = 'transform 50ms ease-out';
            centerImageHolder.style.transform = 'translateX(70px) scale(0.9)';
            
            // Change to 4B and trigger sparkles simultaneously after 50ms (at the smallest scale)
            setTimeout(() => {
                centerImage.setAttribute('src', 'Asset/4B.png');
                createSparklesOnCenter();
                
                // Scale container back to 100%
                centerImageHolder.style.transition = 'transform 50ms ease-in';
                centerImageHolder.style.transform = 'translateX(70px) scale(1)';
                
                // Exit blue cursor to the left after animation completes
                setTimeout(() => {
                    centerImageHolder.style.transition = '';
                    centerImageHolder.style.transform = 'translateX(70px)';
                    
                    // Move cursor off screen to the left
                    animatedCursor.style.transition = 'all 0.8s cubic-bezier(0.43, 0, 0.17, 1)';
                    animatedCursor.style.left = '-100px';
                    animatedCursor.style.opacity = '0';
                    
                    setTimeout(() => {
                        cursorAnimationInProgress = false;
                        // Re-enable pink cursor tracking after animation completes
                        console.log('Animation complete - pink cursor tracking re-enabled');
                    }, 800);
                }, 50);
            }, 50);
        }
        

        
        // Enhanced image interaction with smart scrolling and scaling
        function initImageHoverEffect() {
            const adContainer = document.getElementById('ad-container');
            const centerImage = document.getElementById('center-hosted-image');
            
            // Base positions relative to gallery container (all images start at left: 0)
            const basePositions = {
                'image-holder-1': -455, // Far far left (off-screen)
                'image-holder-2': -280, // Far left (off-screen)
                'image-holder-3': -105, // Left edge bleed  
                'image-holder-4': 70,   // Center
                'image-holder-5': 245,  // Right edge bleed
                'image-holder-6': 420   // Far right (off-screen)
            };
            
            let currentOffset = 0;
            let targetOffset = 0;
            let animationFrame = null;
            let isHoverActive = false;
            
            // Add hover scaling with dynamic gap adjustment
            const allImageHolders = document.querySelectorAll('.image-holder');
            allImageHolders.forEach(imageHolder => {
                imageHolder.addEventListener('mouseenter', function() {
                    if (!cursorAnimationInProgress && centerImage.src.includes('4B.png')) {
                        scaleImageWithGapAdjustment(this.id, true);
                    }
                });
                
                imageHolder.addEventListener('mouseleave', function() {
                    if (!cursorAnimationInProgress && centerImage.src.includes('4B.png')) {
                        scaleImageWithGapAdjustment(this.id, false);
                    }
                });
            });
            
            // Function to scale image with perfect gap preservation
            function scaleImageWithGapAdjustment(imageId, isHover) {
                const hoveredImage = document.getElementById(imageId);
                if (!hoveredImage) return;
                
                if (isHover) {
                    // Disable scrolling during hover to prevent conflicts
                    isHoverActive = true;
                    
                    // Calculate perfect positions for hover state
                    const hoverPositions = calculateHoverPositions(imageId);
                    
                    // Apply all positions simultaneously for perfect gaps
                    Object.keys(hoverPositions).forEach(id => {
                        const image = document.getElementById(id);
                        if (image) {
                            const scale = id === imageId ? 1.15 : 1;
                            const zIndex = id === imageId ? 10 : (id === 'image-holder-4' ? 5 : 2);
                            
                            image.style.transform = `translateX(${hoverPositions[id]}px) scale(${scale})`;
                            image.style.transition = 'transform 0.15s ease-out, box-shadow 0.2s ease-out';
                            image.style.zIndex = zIndex;
                        }
                    });
                    
                    // Special case: if hovering center image, reset scroll position to center
                    if (imageId === 'image-holder-4') {
                        targetOffset = 0;
                        currentOffset = 0;
                    }
                } else {
                    // Re-enable scrolling and reset to scroll-aware positions
                    isHoverActive = false;
                    
                    // If we just finished hovering center image, ensure we're centered
                    if (imageId === 'image-holder-4') {
                        targetOffset = 0;
                        currentOffset = 0;
                    }
                    
                    resetAllImagePositions();
                }
            }
            
            // Calculate perfect positions maintaining exactly 15px gaps during hover
            function calculateHoverPositions(hoveredImageId) {
                const positions = {};
                const gap = 15;
                const normalHalfWidth = 80; // 160px / 2
                const scaledHalfWidth = 92; // 184px / 2 (160 * 1.15)
                
                // Distance from center to center: half-width + gap + half-width
                const normalToNormal = normalHalfWidth + gap + normalHalfWidth; // 175px
                const scaledToNormal = scaledHalfWidth + gap + normalHalfWidth; // 187px
                
                if (hoveredImageId === 'image-holder-1') {
                    // Image 1 scaled: position others relative to it
                    positions['image-holder-1'] = basePositions['image-holder-1'] + currentOffset;
                    positions['image-holder-2'] = positions['image-holder-1'] + scaledToNormal;
                    positions['image-holder-3'] = positions['image-holder-2'] + normalToNormal;
                    positions['image-holder-4'] = positions['image-holder-3'] + normalToNormal;
                    positions['image-holder-5'] = positions['image-holder-4'] + normalToNormal;
                    positions['image-holder-6'] = positions['image-holder-5'] + normalToNormal;
                } else if (hoveredImageId === 'image-holder-2') {
                    // Image 2 scaled: position others relative to it
                    positions['image-holder-2'] = basePositions['image-holder-2'] + currentOffset;
                    positions['image-holder-1'] = positions['image-holder-2'] - scaledToNormal;
                    positions['image-holder-3'] = positions['image-holder-2'] + scaledToNormal;
                    positions['image-holder-4'] = positions['image-holder-3'] + normalToNormal;
                    positions['image-holder-5'] = positions['image-holder-4'] + normalToNormal;
                    positions['image-holder-6'] = positions['image-holder-5'] + normalToNormal;
                } else if (hoveredImageId === 'image-holder-3') {
                    // Image 3 scaled: keep its position, adjust others
                    positions['image-holder-3'] = basePositions['image-holder-3'] + currentOffset;
                    positions['image-holder-2'] = positions['image-holder-3'] - scaledToNormal;
                    positions['image-holder-1'] = positions['image-holder-2'] - normalToNormal;
                    positions['image-holder-4'] = positions['image-holder-3'] + scaledToNormal;
                    positions['image-holder-5'] = positions['image-holder-4'] + normalToNormal;
                    positions['image-holder-6'] = positions['image-holder-5'] + normalToNormal;
                } else if (hoveredImageId === 'image-holder-4') {
                    // Image 4 scaled: keep its position, adjust others symmetrically
                    positions['image-holder-4'] = basePositions['image-holder-4'] + currentOffset;
                    positions['image-holder-3'] = positions['image-holder-4'] - scaledToNormal;
                    positions['image-holder-5'] = positions['image-holder-4'] + scaledToNormal;
                    positions['image-holder-2'] = positions['image-holder-3'] - normalToNormal;
                    positions['image-holder-1'] = positions['image-holder-2'] - normalToNormal;
                    positions['image-holder-6'] = positions['image-holder-5'] + normalToNormal;
                } else if (hoveredImageId === 'image-holder-5') {
                    // Image 5 scaled: position others relative to it
                    positions['image-holder-5'] = basePositions['image-holder-5'] + currentOffset;
                    positions['image-holder-4'] = positions['image-holder-5'] - scaledToNormal;
                    positions['image-holder-3'] = positions['image-holder-4'] - normalToNormal;
                    positions['image-holder-2'] = positions['image-holder-3'] - normalToNormal;
                    positions['image-holder-1'] = positions['image-holder-2'] - normalToNormal;
                    positions['image-holder-6'] = positions['image-holder-5'] + scaledToNormal;
                } else if (hoveredImageId === 'image-holder-6') {
                    // Image 6 scaled: position others relative to it
                    positions['image-holder-6'] = basePositions['image-holder-6'] + currentOffset;
                    positions['image-holder-5'] = positions['image-holder-6'] - scaledToNormal;
                    positions['image-holder-4'] = positions['image-holder-5'] - normalToNormal;
                    positions['image-holder-3'] = positions['image-holder-4'] - normalToNormal;
                    positions['image-holder-2'] = positions['image-holder-3'] - normalToNormal;
                    positions['image-holder-1'] = positions['image-holder-2'] - normalToNormal;
                }
                
                return positions;
            }
            
            function resetAllImagePositions() {
                const allImages = document.querySelectorAll('.image-holder');
                allImages.forEach(img => {
                    const basePos = basePositions[img.id];
                    if (basePos !== undefined) {
                        const newX = basePos + currentOffset;
                        img.style.transform = `translateX(${newX}px) scale(1)`;
                        img.style.transition = 'transform 0.15s ease-out, box-shadow 0.2s ease-out';
                        
                        // Restore original z-index
                        if (img.id === 'image-holder-4') {
                            img.style.zIndex = '5';
                        } else if (img.id === 'image-holder-3' || img.id === 'image-holder-5') {
                            img.style.zIndex = '2';
                        } else if (img.id === 'image-holder-1' || img.id === 'image-holder-2' || img.id === 'image-holder-6') {
                            img.style.zIndex = '1';
                        }
                    }
                });
            }
            
            // Image-specific scrolling - only when hovering over images 3 or 5
            const image3 = document.getElementById('image-holder-3');
            const image5 = document.getElementById('image-holder-5');
            
            if (image3) {
                image3.addEventListener('mouseenter', function() {
                    if (cursorAnimationInProgress || !centerImage.src.includes('4B.png') || isHoverActive) return;
                    targetOffset = 120; // Reveal left edge (image 3 fully visible)
                    smoothScrollToTarget();
                });
                
                image3.addEventListener('mouseleave', function() {
                    if (cursorAnimationInProgress || !centerImage.src.includes('4B.png') || isHoverActive) return;
                    targetOffset = 0; // Return to center
                    smoothScrollToTarget();
                });
            }
            
            if (image5) {
                image5.addEventListener('mouseenter', function() {
                    if (cursorAnimationInProgress || !centerImage.src.includes('4B.png') || isHoverActive) return;
                    targetOffset = -120; // Reveal right edge (image 5 fully visible)
                    smoothScrollToTarget();
                });
                
                image5.addEventListener('mouseleave', function() {
                    if (cursorAnimationInProgress || !centerImage.src.includes('4B.png') || isHoverActive) return;
                    targetOffset = 0; // Return to center
                    smoothScrollToTarget();
                });
            }
            
            adContainer.addEventListener('mouseleave', function() {
                // Reset hover state and return to center when mouse leaves
                isHoverActive = false;
                targetOffset = 0;
                smoothScrollToTarget();
            });
            
            function smoothScrollToTarget() {
                if (animationFrame) {
                    cancelAnimationFrame(animationFrame);
                }
                
                function animate() {
                    const diff = targetOffset - currentOffset;
                    
                    if (Math.abs(diff) < 0.3) {
                        currentOffset = targetOffset;
                        updateImagePositions();
                        return;
                    }
                    
                    currentOffset += diff * 0.18; // Faster, more responsive easing
                    updateImagePositions();
                    
                    animationFrame = requestAnimationFrame(animate);
                }
                
                animate();
            }
            
            function updateImagePositions() {
                // Don't update positions during hover state
                if (isHoverActive) return;
                
                const allImages = document.querySelectorAll('.image-holder');
                
                allImages.forEach(img => {
                    const basePos = basePositions[img.id];
                    if (basePos !== undefined) {
                        const newX = basePos + currentOffset;
                        img.style.transform = `translateX(${newX}px) scale(1)`;
                    }
                });
            }
        }

        // Enhanced cursor tracking for pink cursor
        function initCursorTracking() {
            const adContainer = document.getElementById('ad-container');
            const trackingCursor = document.getElementById('tracking-cursor');
            
            // Configure tracking cursor to follow mouse tip (not center)
            
            adContainer.addEventListener('mouseenter', function() {
                if (!cursorAnimationInProgress) {
                    trackingCursor.style.opacity = '1';
                }
            });
            
            adContainer.addEventListener('mouseleave', function() {
                trackingCursor.style.opacity = '0';
            });
            
            adContainer.addEventListener('mousemove', function(e) {
                if (!cursorAnimationInProgress) {
                    const rect = adContainer.getBoundingClientRect();
                    const mouseX = e.clientX - rect.left;
                    const mouseY = e.clientY - rect.top;
                    
                    // Offset so cursor tip (top-left of cursor image) follows the mouse
                    // Cursor is 72px x 72px, tip is at approximately (4px, 2px) from top-left
                    const tipOffsetX = 4;  // Cursor tip is 4px from left edge
                    const tipOffsetY = 2;  // Cursor tip is 2px from top edge
                    
                    trackingCursor.style.left = (mouseX - tipOffsetX) + 'px';
                    trackingCursor.style.top = (mouseY - tipOffsetY) + 'px';
                }
            });
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const headline = document.querySelector('.ad-headline');
            if (headline) {
                // First position the headline with layout adjustment
                adjustHeadlineLayout();
                
                // Get the final position after layout adjustment
                const finalTop = headline.style.top;
                
                // Set starting position (10px lower) while preserving layout positioning
                const startingTop = parseFloat(finalTop) + 10 + 'px';
                headline.style.top = startingTop;
                headline.style.opacity = '0';
                
                // Small delay to ensure layout is applied
                setTimeout(() => {
                    headline.style.transition = 'opacity 1s cubic-bezier(.14, .96, .34, 1), top 1s cubic-bezier(.14, .96, .34, 1)';
                    headline.style.opacity = '1';
                    headline.style.top = finalTop;
                }, 50);
            }
            
            // Initialize new features
            initCursorTracking();
            initImageHoverEffect();
            
            // Start images animation with small delay to ensure DOM is ready
            setTimeout(() => {
                animateImagesIn();
            }, 100);
            
            // Start cursor animation after all images finish (100ms delay + 150ms last delay + 1000ms animation + 100ms buffer)
            setTimeout(() => {
                startCursorAnimation();
            }, 1350);
        });
        
        // Add hover effect to the ad container
        document.getElementById('ad-container').addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.02)';
            this.style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.2)';
        });
        
        document.getElementById('ad-container').addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1)';
            this.style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.1)';
        });
    </script>
</body>
</html> 